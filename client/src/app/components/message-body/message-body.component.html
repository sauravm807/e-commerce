<div class="container front-container1">
  <div class="row chat-top">
    <div class="col-sm-4 chat-top-left">
      <div class="left-top-div col-sm-5">
        <img src="{{basePath}}/{{userData.proPic}}" alt="" class="profile-image rounded-circle"
          (click)="showFileUpload()" (error)="onImgError($event)">
        <input (change)="onFileSelected($event)" hidden="true" id="imageUpload" name="image" type="file"
          accept=".png, .jpg, .jpeg" required ngModel #cngPic="ngModel">
      </div>
      <div class="mt-2 btn-div col-sm-10" style="margin-right: 0;">
        <input type="text" class="form-control search-input" placeholder="Search here..." #search
          (click)="onClickRemoveSearch()">
      </div>
    </div>

    <ng-container *ngIf="showMessages">
      <div class="col-sm-8" style="display: flex;">
        <div class="col-sm-8">
          <div class="cont" style="display: flex">
            <img src="{{basePath}}/{{currentFriend.proPic}}" alt="" class="profile-image rounded-circle"
              (error)="onImgError($event)">
            <div style="display:flex; flex-direction: column;">
              <span class="ml-5"><b>{{currentFriend.fullName}}</b></span>
              <span class="last-seen" *ngIf="currentFriend.isOnline">Online</span>
              <span class="last-seen" *ngIf="!currentFriend.isOnline && currentFriend.lastLogin">
                {{currentFriend.lastLogin * 1000 | date: "M/d/yy, h:mm a"}}
              </span>

            </div>
          </div>
        </div>
        <div class="mt-2 col-sm-4 btn-div">
          <button class="logout-btn left-btn" (click)="onLogout()">Logout</button>
          <button class="logout-btn" (click)="onLogoutAllDevices()">Logout from all devices</button>
        </div>
      </div>
    </ng-container>
  </div>
  <div class="row chat-bottom">
    <div class="col-sm-4 contacts">
      <div class="contact-table-scroll">
        <table class="table table-hover">
          <tbody>
            <ng-container *ngIf="usersList.length">
              <ng-container>
                <ng-container *ngFor="let user of usersList">
                  <tr class="chat-names-left" (click)="onShowMessage(user)">
                    <td>
                      <img src="{{basePath}}/{{user.proPic}}" (error)="onImgError($event)" alt=""
                        class="profile-image rounded-circle">
                    </td>
                    <td>
                      <strong>{{user.fullName}}</strong><br>
                      <small>{{ifSearchFriendList ? "@" + user.username :"achi chal rahi"}}</small>
                    </td>
                    <!-- <td [ngClass]="ifSearchFriendList ? 'd-hidden' : ''"> -->
                    <td>
                      <!-- <small></small> -->
                      <small [ngClass]="user.isOnline ? 'd-online' : ''">
                        {{user.isOnline ? "‚óè" : ""}}
                      </small>
                    </td>
                  </tr>
                </ng-container>
              </ng-container>
            </ng-container>
          </tbody>
        </table>
      </div>

    </div>
    <div class="col-sm-8 message-area" *ngIf="showMessages">
      <div class="message-table-scroll">
        <ng-container *ngIf="showMessages">
          <table class="table">
            <tbody>
              <tr class="chat-names">
                <td class="get-msg">
                  <p class=" p-2 mt-2 mr-5 shadow-sm text-white float-left">
                    Hello Rahul <span class="chat-time">11:20 PM</span>
                  </p>
                </td>
              </tr>
              <tr class="chat-names">
                <td class=sent-msg>
                  <p class="p-2 mt-2 mr-5 shadow-sm text-white float-right">
                    Hello Sonam How are You <span class="chat-time">11:21 PM</span>
                  </p>
                </td>
              </tr>
              <tr class="chat-names">
                <td class="sent-msg">
                  <p class=" p-2 mt-2 mr-5 shadow-sm text-white float-right">
                    Main achi hu tum kaise ho Lorem ipsum dolor sit, amet consectetur adipisicing elit. Illum ab quis
                    quisquam nihil aliquam corporis sint eveniet, sequi aut iste ullam? Optio, eaque eius nam
                    repellendus
                    in mollitia error. Nulla officia fuga iure sunt! Lorem ipsum dolor sit, amet consectetur adipisicing
                    elit. Illum ab quis
                    quisquam nihil aliquam corporis sint eveniet, sequi aut iste ullam? Optio, eaque eius nam
                    repellendus
                    in mollitia error. Nulla officia fuga iure sunt!<span class="chat-time">11:21 PM</span></p>
                </td>
              </tr>
              <tr class="chat-names">
                <td class="get-msg">
                  <p class=" p-2 mt-2 mr-5 shadow-sm text-white float-left">
                    Suna hai tumhari Job chali gayi ya chhod di tumne
                    <span class="chat-time">11:22 PM</span>
                  </p>
                </td>
              </tr>
              <tr class="chat-names">
                <td class=sent-msg>
                  <p class=" p-2 mt-2 mr-5 shadow-sm text-white float-right">Haan Lockdown ki wajah
                    se company me kuch problem ho rahi thi so kuch logo ko resign dene ko kaha gaya tha.. meri
                    condition thodi thik hai to maine socha main hi kar deta hu.. mere pas paisa bahot hai...
                    <span class="chat-time">11:24 PM</span>
                  </p>
                </td>
              </tr>
              <tr class="chat-names">
                <td class="get-msg">
                  <p class=" p-2 mt-2 mr-5 shadow-sm text-white float-left">
                    acha <span class="chat-time">11:24 PM</span>
                  </p>
                </td>
              </tr>
              <tr class="chat-names">
                <td class=sent-msg>
                  <p class=" p-2 mt-2 mr-5 shadow-sm text-white float-right">
                    Haan <span class="chat-time">11:25 PM</span>
                  </p>
                </td>
              </tr>
              <tr class="chat-names">
                <td class=sent-msg>
                  <p class=" p-2 mt-2 mr-5 shadow-sm text-white float-right">
                    aur tumhari job kaisi chali rahi <span class="chat-time">11:26 PM</span>
                  </p>
                </td>
              </tr>
              <tr class="chat-names">
                <td class="get-msg">
                  <p class=" p-2 mt-2 mr-5 shadow-sm text-white float-left">
                    achi chal rahi <span class="chat-time">11:26 PM</span>
                  </p>
                </td>
              </tr>
            </tbody>
          </table>
        </ng-container>
      </div>
      <div class="row message-box p-3">
        <ng-container *ngIf="showMessages">
          <div class="col-sm-2 mt-1">
            <button class="send-btn">
              <i class="fa fa-smile-o" aria-hidden="true"></i>
            </button>
            <button class="send-btn">
              <i class="fa fa-paperclip" aria-hidden="true"></i>
            </button>
          </div>
          <div class="col-sm-9">
            <form action="">
              <input type="text" class="form-control" placeholder="Write message...">
            </form>

          </div>
          <div class="col-sm-1 mt-1">
            <button class="send-btn">
              <i class="fa fa-paper-plane"></i>
            </button>
          </div>
        </ng-container>
      </div>
    </div>
    <div class="hide-message col-sm-8" *ngIf="!showMessages">
      <div>
        <p class="msg-info">Select a chat to start messaging</p>
      </div>
    </div>
  </div>
</div>
